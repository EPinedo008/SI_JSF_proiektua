<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<f:view>
    <h:head>
        <title>My Rides (Driver)</title>
        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>

    <h:body>
        <h:form id="myRidesForm">

            <h2>My Rides</h2>
            <p:dataTable id="ridesTable"
                         value="#{rides.rides}"
                         var="ride"
                         selectionMode="single"
                         rowKey="#{ride.rideNumber}"
                         paginator="true"
                         rows="10">

                <p:column headerText="From">
                    <h:outputText value="#{ride.nondik}"/>
                </p:column>

                <p:column headerText="To">
                    <h:outputText value="#{ride.nora}"/>
                </p:column>

                <p:column headerText="Date">
                    <h:outputText value="#{ride.date}">
                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT+1"/>
                    </h:outputText>
                </p:column>

                <p:column headerText="Price (â‚¬)">
                    <h:outputText value="#{ride.price}"/>
                </p:column>

                <p:column headerText="Seats">
                    <h:outputText value="#{ride.nPlaces}"/>
                </p:column>

                <p:column headerText="Requests">
                    <h:outputText value="#{ride.requests != null ? ride.requests.size() : 0}"/>
                </p:column>


            </p:dataTable>


            <p:commandButton value="Back"
                             action="#{userBean.backButton}"
                             immediate="true"
                             styleClass="back-btn"
                             style="margin-top:20px;"/>

        </h:form>
    </h:body>
</f:view>

</html>
